-- MySQL dump 10.13  Distrib 5.6.40, for Linux (x86_64)
--
-- Host: localhost    Database: openmrs
-- ------------------------------------------------------
-- Server version	5.6.40

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `form`
--


/*!40101 SET character_set_client = "utf8" */;

--
-- Dumping data for table `form`
--
-- WHERE:  form_id=11

LOCK TABLES `form` WRITE;
/*!40000 ALTER TABLE `form` DISABLE KEYS */;
INSERT INTO `form` VALUES (11,'PEDIATRIA: PROCESSO PARTE B - EXAME CLINICO','0.1',89,0,'Processo de Hospital de Dia Pediatria 2/2',3,'<?xml version=\"1.0\" encoding=\"UTF-8\"?><?mso-infoPathSolution name=\"PEDIATRIA: PROCESSO PARTE B - EXAME CLINICO\" href=\"http://10.10.1.11:8080/openmrs/moduleServlet/formentry/forms/11-0.1-89.xsn\" solutionVersion=\"0.1.0.89\" productVersion=\"11.0.6357\" PIVersion=\"1.0.0.0\" ?><?mso-application progid=\"InfoPath.Document\"?><form xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xd=\"http://schemas.microsoft.com/office/infopath/2003\" xmlns:openmrs=\"http://10.10.1.11:8080/openmrs/moduleServlet/formentry/forms/schema/11-89\" id=\"11\" name=\"PEDIATRIA: PROCESSO PARTE B - EXAME CLINICO\" version=\"0.1\">\n  <header>\n    <enterer>$!{enterer}</enterer>\n    <date_entered>$!{dateEntered}</date_entered>\n    <session>$!{sessionId}</session>\n    <uid>$!{uid}</uid>\n  </header>\n  <patient>\n    <nid openmrs_attribute=\"\" openmrs_table=\"\">$!{patient.getPatientIdentifier().getIdentifier()}</nid>\n    <patient.birthdate openmrs_attribute=\"birthdate\" openmrs_table=\"patient\">$!{date.format($patient.getBirthdate())}</patient.birthdate>\n    <patient.age openmrs_attribute=\"\" openmrs_table=\"\">$!{patient.getAge()}</patient.age>\n    <patient.birthdate_estimated openmrs_attribute=\"birthdate_estimated\" openmrs_table=\"patient\">$!{patient.getBirthDateEstimated()}</patient.birthdate_estimated>\n    <patient.family_name openmrs_attribute=\"family_name\" openmrs_table=\"patient_name\">$!{patient.getFamilyName()}</patient.family_name>\n    <patient.given_name openmrs_attribute=\"given_name\" openmrs_table=\"patient_name\">$!{patient.getGivenName()}</patient.given_name>\n    <patient.medical_record_number openmrs_attribute=\"identifier\" openmrs_table=\"patient_identifier\">$!{patient.getPatientIdentifier(1).getIdentifier()}</patient.medical_record_number>\n    <patient.middle_name openmrs_attribute=\"middle_name\" openmrs_table=\"patient_name\">$!{patient.getMiddleName()}</patient.middle_name>\n    <patient.patient_id openmrs_attribute=\"patient_id\" openmrs_table=\"patient\">$!{patient.getPatientId()}</patient.patient_id>\n    <patient.sex openmrs_attribute=\"gender\" openmrs_table=\"patient\">$!{patient.getGender()}</patient.sex>\n    <patient_address.address1 openmrs_attribute=\"address1\" openmrs_table=\"patient_address\">$!{patient.getPersonAddress().getAddress1()}</patient_address.address1>\n    <casa openmrs_attribute=\"address2\" openmrs_table=\"patient_address\">$!{patient.getPersonAddress().getAddress2()}</casa>\n  </patient>\n  <encounter>\n    <encounter.encounter_datetime openmrs_attribute=\"encounter_datetime\" openmrs_table=\"encounter\"/>\n    <encounter.location_id openmrs_attribute=\"location_id\" openmrs_table=\"encounter\"/>\n    <encounter.provider_id openmrs_attribute=\"provider_id\" openmrs_table=\"encounter\"/>\n  </encounter>\n  <obs openmrs_concept=\"1238^MEDICAL RECORD OBSERVATIONS^99DCT\" openmrs_datatype=\"ZZ\">\n    <pediatric_objective_exam openmrs_concept=\"1622^PEDIATRIC OBJECTIVE EXAM^99DCT\" openmrs_datatype=\"ZZ\">\n      <weight_kg openmrs_concept=\"5089^WEIGHT (KG)^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </weight_kg>\n      <height_cm openmrs_concept=\"5090^HEIGHT (CM)^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </height_cm>\n      <head_circumference openmrs_concept=\"5314^HEAD CIRCUMFERENCE^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </head_circumference>\n      <pediatric_diagnostic_exam multiple=\"1\" openmrs_concept=\"1616^PEDIATRIC DIAGNOSTIC EXAM^99DCT\" openmrs_datatype=\"CWE\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <anemia openmrs_concept=\"3^ANEMIA^99DCT\">false</anemia>\n            <shortness_of_breath openmrs_concept=\"5960^SHORTNESS OF BREATH^99DCT\">false</shortness_of_breath>\n            <dermatitis openmrs_concept=\"119^DERMATITIS^99DCT\">false</dermatitis>\n            <lymphadenopathy openmrs_concept=\"161^LYMPHADENOPATHY^99DCT\">false</lymphadenopathy>\n            <parotidas_aumentadas openmrs_concept=\"1540^PAROTIDAS AUMENTADAS^99DCT\">false</parotidas_aumentadas>\n            <ictericas openmrs_concept=\"1419^ICTERICAS^99DCT\">false</ictericas>\n            <fever openmrs_concept=\"5945^FEVER^99DCT\">false</fever>\n            <candidiasis_oral openmrs_concept=\"5334^CANDIDIASIS, ORAL^99DCT\">false</candidiasis_oral>\n      </pediatric_diagnostic_exam>\n      <oral_exam_non_specific openmrs_concept=\"1542^ORAL EXAM, NON SPECIFIC^99DCT\" openmrs_datatype=\"ST\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </oral_exam_non_specific>\n      <pulmonary_exam_auscultation_mv multiple=\"0\" openmrs_concept=\"1545^PULMONARY EXAM AUSCULTATION MV^99DCT\" openmrs_datatype=\"CWE\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </pulmonary_exam_auscultation_mv>\n      <pulmonary_exam_auscultation multiple=\"1\" openmrs_concept=\"1629^PULMONARY EXAM AUSCULTATION^99DCT\" openmrs_datatype=\"CWE\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <sopro_tubarico openmrs_concept=\"1550^SOPRO TUBARICO^99DCT\">false</sopro_tubarico>\n            <snoring openmrs_concept=\"1549^SNORING^99DCT\">false</snoring>\n            <murmur_anforico openmrs_concept=\"1551^MURMUR ANFORICO^99DCT\">false</murmur_anforico>\n            <fervor openmrs_concept=\"1548^FERVOR^99DCT\">false</fervor>\n      </pulmonary_exam_auscultation>\n      <cardiac_exam_findings multiple=\"1\" openmrs_concept=\"1124^CARDIAC EXAM FINDINGS^99DCT\" openmrs_datatype=\"CWE\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <s3_gallop openmrs_concept=\"550^S3 GALLOP^99DCT\">false</s3_gallop>\n            <cardiac_murmur openmrs_concept=\"562^CARDIAC MURMUR^99DCT\">false</cardiac_murmur>\n            <normal openmrs_concept=\"1115^NORMAL^99DCT\">false</normal>\n            <abnormal openmrs_concept=\"1116^ABNORMAL^99DCT\">false</abnormal>\n            <abnormal_sounds openmrs_concept=\"1117^ABNORMAL SOUNDS^99DCT\">false</abnormal_sounds>\n            <left_ventricular_lift openmrs_concept=\"5156^LEFT VENTRICULAR LIFT^99DCT\">false</left_ventricular_lift>\n            <right_ventricular_lift openmrs_concept=\"5157^RIGHT VENTRICULAR LIFT^99DCT\">false</right_ventricular_lift>\n            <evidence_of_cardiac_enlargement openmrs_concept=\"5158^EVIDENCE OF CARDIAC ENLARGEMENT^99DCT\">false</evidence_of_cardiac_enlargement>\n            <diastolic_descresendo_murmur openmrs_concept=\"5160^DIASTOLIC DESCRESENDO MURMUR^99DCT\">false</diastolic_descresendo_murmur>\n            <holosystolic_murmur openmrs_concept=\"5162^HOLOSYSTOLIC MURMUR^99DCT\">false</holosystolic_murmur>\n            <diastolic_rumble openmrs_concept=\"5164^DIASTOLIC RUMBLE^99DCT\">false</diastolic_rumble>\n            <systolic_ejection_murmur openmrs_concept=\"5166^SYSTOLIC EJECTION MURMUR^99DCT\">false</systolic_ejection_murmur>\n            <pericardial_friction_rub openmrs_concept=\"5176^PERICARDIAL FRICTION RUB^99DCT\">false</pericardial_friction_rub>\n            <chronic_obstructive_pulmonary_disease openmrs_concept=\"1295^CHRONIC OBSTRUCTIVE PULMONARY DISEASE^99DCT\">false</chronic_obstructive_pulmonary_disease>\n            <arrythmia openmrs_concept=\"1395^ARRYTHMIA^99DCT\">false</arrythmia>\n      </cardiac_exam_findings>\n      <ap_te multiple=\"0\" openmrs_concept=\"1552^PULMONARY AUSCULTATION TE^99DCT\" openmrs_datatype=\"CWE\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </ap_te>\n      <liver_size openmrs_concept=\"5153^LIVER SIZE^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </liver_size>\n      <spleen_size openmrs_concept=\"5195^SPLEEN SIZE^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </spleen_size>\n      <other_masses_description openmrs_concept=\"1553^OTHER MASSES, DESCRIPTION^99DCT\" openmrs_datatype=\"ST\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </other_masses_description>\n      <perineum_description openmrs_concept=\"1554^PERINEUM, DESCRIPTION^99DCT\" openmrs_datatype=\"ST\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </perineum_description>\n      <membros_superiores openmrs_concept=\"1555^MEMBROS SUPERIORES^99DCT\" openmrs_datatype=\"ST\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </membros_superiores>\n      <membros_inferiores openmrs_concept=\"1556^LOWER LIMBS^99DCT\" openmrs_datatype=\"ST\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </membros_inferiores>\n      <neurological_exam_other openmrs_concept=\"1407^NEUROLOGICAL EXAM OTHER^99DCT\" openmrs_datatype=\"ST\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </neurological_exam_other>\n      <non_coded_diagnosis openmrs_concept=\"1649^NON CODED DIAGNOSIS^99DCT\" openmrs_datatype=\"ST\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </non_coded_diagnosis>\n    </pediatric_objective_exam>\n    <pediatric_blood_tests openmrs_concept=\"1618^PEDIATRIC BLOOD TESTS^99DCT\" openmrs_datatype=\"ZZ\">\n      <hemoglobin openmrs_concept=\"21^HEMOGLOBIN^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </hemoglobin>\n      <hematocrit openmrs_concept=\"1015^HEMATOCRIT^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </hematocrit>\n      <platelets openmrs_concept=\"729^PLATELETS^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </platelets>\n      <white_blood_cells openmrs_concept=\"678^WHITE BLOOD CELLS^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </white_blood_cells>\n      <neutrophils openmrs_concept=\"1022^NEUTROPHILS^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </neutrophils>\n      <lymphocytes openmrs_concept=\"1021^LYMPHOCYTES^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </lymphocytes>\n      <eosinophils openmrs_concept=\"1024^EOSINOPHILS^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </eosinophils>\n      <erythrocyte_sedimentation_rate openmrs_concept=\"855^ERYTHROCYTE SEDIMENTATION RATE^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </erythrocyte_sedimentation_rate>\n      <total_protein openmrs_concept=\"717^TOTAL PROTEIN^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </total_protein>\n      <globulinas openmrs_concept=\"1520^GLOBULINS^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </globulinas>\n      <immuno_globulin_hiv openmrs_concept=\"1519^IMMUNO GLOBULIN HIV^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </immuno_globulin_hiv>\n      <urinary_albumin openmrs_concept=\"849^URINARY ALBUMIN^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </urinary_albumin>\n      <fa openmrs_concept=\"1521^FA^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </fa>\n      <cd4_count openmrs_concept=\"5497^CD4 COUNT^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </cd4_count>\n      <cd4_percent openmrs_concept=\"730^CD4%^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </cd4_percent>\n      <hiv_viral_load openmrs_concept=\"856^HIV VIRAL LOAD^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </hiv_viral_load>\n      <hiv_viral_load_log openmrs_concept=\"1518^HIV VIRAL LOAD LOG^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </hiv_viral_load_log>\n      <total_bilirubin openmrs_concept=\"655^TOTAL BILIRUBIN^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </total_bilirubin>\n      <direct_bilirubin openmrs_concept=\"1297^DIRECT BILIRUBIN^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </direct_bilirubin>\n      <serum_glutamic-oxaloacetic_transaminase openmrs_concept=\"653^SERUM GLUTAMIC-OXALOACETIC TRANSAMINASE^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </serum_glutamic-oxaloacetic_transaminase>\n      <serum_glutamic-pyruvic_transaminase openmrs_concept=\"654^SERUM GLUTAMIC-PYRUVIC TRANSAMINASE^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </serum_glutamic-pyruvic_transaminase>\n      <lactate_dehydrogenase openmrs_concept=\"1014^LACTATE DEHYDROGENASE^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </lactate_dehydrogenase>\n      <blood_urea_nitrogen openmrs_concept=\"857^BLOOD UREA NITROGEN^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </blood_urea_nitrogen>\n      <serum_creatinine openmrs_concept=\"790^SERUM CREATININE^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </serum_creatinine>\n      <serum_sodium openmrs_concept=\"1132^SERUM SODIUM^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </serum_sodium>\n      <serum_potassium openmrs_concept=\"1133^SERUM POTASSIUM^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </serum_potassium>\n      <serum_glucose openmrs_concept=\"887^SERUM GLUCOSE^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </serum_glucose>\n      <serum_albumin openmrs_concept=\"848^SERUM ALBUMIN^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </serum_albumin>\n      <alkaline_phosphatase openmrs_concept=\"785^ALKALINE PHOSPHATASE^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </alkaline_phosphatase>\n      <mean_corpuscular_volume openmrs_concept=\"851^MEAN CORPUSCULAR VOLUME^99DCT\" openmrs_datatype=\"NM\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </mean_corpuscular_volume>\n    </pediatric_blood_tests>\n    <pediatric_urinalysis multiple=\"1\" openmrs_concept=\"1619^PEDIATRIC URINALYSIS^99DCT\" openmrs_datatype=\"CWE\">\n        <date xsi:nil=\"true\"/>\n        <time xsi:nil=\"true\"/>\n        <urina_piocytes openmrs_concept=\"1525^URINA PIOCYTES^99DCT\">false</urina_piocytes>\n        <urine_erithrocytes openmrs_concept=\"1523^URINE ERITHROCYTES^99DCT\">false</urine_erithrocytes>\n        <urine_leucocytes openmrs_concept=\"1522^URINE LEUCOCYTES^99DCT\">false</urine_leucocytes>\n        <epithelial_cells openmrs_concept=\"666^EPITHELIAL CELLS^99DCT\">false</epithelial_cells>\n        <urine_cilinders openmrs_concept=\"1524^URINE CILINDERS^99DCT\">false</urine_cilinders>\n    </pediatric_urinalysis>\n    <pediatric_feces_test multiple=\"1\" openmrs_concept=\"1620^PEDIATRIC FECES TEST^99DCT\" openmrs_datatype=\"CWE\">\n        <date xsi:nil=\"true\"/>\n        <time xsi:nil=\"true\"/>\n        <feces_giardia openmrs_concept=\"1527^FECES GIARDIA^99DCT\">false</feces_giardia>\n        <feces_e_hystolitica openmrs_concept=\"1529^FECES E HYSTOLITICA^99DCT\">false</feces_e_hystolitica>\n        <feces_strongolides openmrs_concept=\"1526^FECES STRONGOLIDES^99DCT\">false</feces_strongolides>\n        <fezes_trichuria openmrs_concept=\"1528^FEZES TRICHURIA^99DCT\">false</fezes_trichuria>\n        <feces_ascaris openmrs_concept=\"1530^FECES ASCARIS^99DCT\">false</feces_ascaris>\n    </pediatric_feces_test>\n    <feces_other openmrs_concept=\"1531^FECES OTHER^99DCT\" openmrs_datatype=\"ST\">\n        <date xsi:nil=\"true\"/>\n        <time xsi:nil=\"true\"/>\n        <value xsi:nil=\"true\"/>\n    </feces_other>\n    <lcr_patologico multiple=\"0\" openmrs_concept=\"1532^LCR PATHOLOGY^99DCT\" openmrs_datatype=\"CWE\">\n        <date xsi:nil=\"true\"/>\n        <time xsi:nil=\"true\"/>\n        <value xsi:nil=\"true\"/>\n    </lcr_patologico>\n    <x-ray_chest multiple=\"1\" openmrs_concept=\"12^X-RAY, CHEST^99DCT\" openmrs_datatype=\"CWE\">\n        <date xsi:nil=\"true\"/>\n        <time xsi:nil=\"true\"/>\n        <normal openmrs_concept=\"1115^NORMAL^99DCT\">false</normal>\n        <pulmonary_effusion openmrs_concept=\"1136^PULMONARY EFFUSION^99DCT\">false</pulmonary_effusion>\n        <miliary_changes openmrs_concept=\"1137^MILIARY CHANGES^99DCT\">false</miliary_changes>\n        <evidence_of_cardiac_enlargement openmrs_concept=\"5158^EVIDENCE OF CARDIAC ENLARGEMENT^99DCT\">false</evidence_of_cardiac_enlargement>\n        <other_non-coded openmrs_concept=\"5622^OTHER NON-CODED^99DCT\">false</other_non-coded>\n        <infiltrate openmrs_concept=\"6049^INFILTRATE^99DCT\">false</infiltrate>\n        <diffuse_non-miliary_changes openmrs_concept=\"6050^DIFFUSE NON-MILIARY CHANGES^99DCT\">false</diffuse_non-miliary_changes>\n        <cavitary_lesion openmrs_concept=\"6052^CAVITARY LESION^99DCT\">false</cavitary_lesion>\n        <infiltrate_retuculonodular openmrs_concept=\"1641^INFILTRATE RETUCULONODULAR^99DCT\">false</infiltrate_retuculonodular>\n        <infiltrado_reticular openmrs_concept=\"1643^INFILTRADO RETICULAR^99DCT\">false</infiltrado_reticular>\n        <derrames openmrs_concept=\"1647^DERRAMES^99DCT\">false</derrames>\n        <condensacoes openmrs_concept=\"1644^CONDENSACOES^99DCT\">false</condensacoes>\n        <adenopatias_aumentadas openmrs_concept=\"1645^ADENOPATIAS AUMENTADAS^99DCT\">false</adenopatias_aumentadas>\n        <mediastino_alargado openmrs_concept=\"1646^MEDIASTINO ALARGADO^99DCT\">false</mediastino_alargado>\n        <negative openmrs_concept=\"664^NEGATIVE^99DCT\">false</negative>\n        <positive openmrs_concept=\"703^POSITIVE^99DCT\">false</positive>\n        <unknown openmrs_concept=\"1067^UNKNOWN^99DCT\">false</unknown>\n    </x-ray_chest>\n    <x-ray_chest_other openmrs_concept=\"1642^X-RAY, CHEST, OTHER^99DCT\" openmrs_datatype=\"ST\">\n        <date xsi:nil=\"true\"/>\n        <time xsi:nil=\"true\"/>\n        <value xsi:nil=\"true\"/>\n    </x-ray_chest_other>\n    <non_coded_diagnosis openmrs_concept=\"1649^NON CODED DIAGNOSIS^99DCT\" openmrs_datatype=\"ST\">\n        <date xsi:nil=\"true\"/>\n        <time xsi:nil=\"true\"/>\n        <value xsi:nil=\"true\"/>\n    </non_coded_diagnosis>\n    <pediatric_initial_treatment openmrs_concept=\"1648^PEDIATRIC INITIAL TREATMENT^99DCT\" openmrs_datatype=\"ZZ\">\n      <patient_is_on_antibiotic_treatment multiple=\"0\" openmrs_concept=\"1533^PATIENT IS ON ANTIBIOTIC TREATMENT^99DCT\" openmrs_datatype=\"CWE\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </patient_is_on_antibiotic_treatment>\n      <antibiotics_prescribed multiple=\"1\" openmrs_concept=\"1621^ANTIBIOTICS PRESCRIBED^99DCT\" openmrs_datatype=\"CWE\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <penicillin openmrs_concept=\"784^PENICILLIN^99DCT\">false</penicillin>\n            <cefuroxime openmrs_concept=\"737^CEFUROXIME^99DCT\">false</cefuroxime>\n            <cefixime openmrs_concept=\"963^CEFIXIME^99DCT\">false</cefixime>\n            <amoxicillin openmrs_concept=\"265^AMOXICILLIN^99DCT\">false</amoxicillin>\n            <cetirizine openmrs_concept=\"779^CETIRIZINE^99DCT\">false</cetirizine>\n            <trimethoprim_and_sulfamethoxazole openmrs_concept=\"916^TRIMETHOPRIM AND SULFAMETHOXAZOLE^99DCT\">false</trimethoprim_and_sulfamethoxazole>\n            <trimethoprim openmrs_concept=\"91^TRIMETHOPRIM^99DCT\">false</trimethoprim>\n      </antibiotics_prescribed>\n      <antiretroviral_use multiple=\"0\" openmrs_concept=\"1192^ANTIRETROVIRAL USE^99DCT\" openmrs_datatype=\"CWE\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </antiretroviral_use>\n      <current_antiretroviral_drugs_used_for_treatment multiple=\"1\" openmrs_concept=\"1088^REGIMEN^99DCT\" openmrs_datatype=\"CWE\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <zidovudine_and_lamivudine openmrs_concept=\"630^ZIDOVUDINE AND LAMIVUDINE^99DCT\">false</zidovudine_and_lamivudine>\n            <lamivudine openmrs_concept=\"628^LAMIVUDINE^99DCT\">false</lamivudine>\n            <zidovudine openmrs_concept=\"797^ZIDOVUDINE^99DCT\">false</zidovudine>\n            <abacavir openmrs_concept=\"814^ABACAVIR^99DCT\">false</abacavir>\n            <efavirenz openmrs_concept=\"633^EFAVIRENZ^99DCT\">false</efavirenz>\n            <nevirapine openmrs_concept=\"631^NEVIRAPINE^99DCT\">false</nevirapine>\n            <nelfinavir openmrs_concept=\"635^NELFINAVIR^99DCT\">false</nelfinavir>\n            <other_antiretroviral_drug openmrs_concept=\"5424^OTHER ANTIRETROVIRAL DRUG^99DCT\">false</other_antiretroviral_drug>\n            <indinavir openmrs_concept=\"749^INDINAVIR^99DCT\">false</indinavir>\n            <ritonavir openmrs_concept=\"795^RITONAVIR^99DCT\">false</ritonavir>\n            <abacavir_lamivudine_zidovudine openmrs_concept=\"817^ABACAVIR + LAMIVUDINE + ZIDOVUDINE^99DCT\">false</abacavir_lamivudine_zidovudine>\n            <zidovudine_lamivudine_nevirapine openmrs_concept=\"1651^ZIDOVUDINE + LAMIVUDINE + NEVIRAPINE^99DCT\">false</zidovudine_lamivudine_nevirapine>\n            <abacavir_didanosine_nelfinavir openmrs_concept=\"1701^ABACAVIR + DIDANOSINE + NELFINAVIR^99DCT\">false</abacavir_didanosine_nelfinavir>\n            <ziduvadinedidanosinenelfinavir openmrs_concept=\"1700^ZIDUVADINE+DIDANOSINE+NELFINAVIR^99DCT\">false</ziduvadinedidanosinenelfinavir>\n            <zidovudine_lamivudine_efavirenz openmrs_concept=\"1703^ZIDOVUDINE + LAMIVUDINE + EFAVIRENZ^99DCT\">false</zidovudine_lamivudine_efavirenz>\n            <zidovudine_lamivudine_nelfinavir openmrs_concept=\"1702^ZIDOVUDINE + LAMIVUDINE + NELFINAVIR^99DCT\">false</zidovudine_lamivudine_nelfinavir>\n            <stavudinelamivudineefavirennz openmrs_concept=\"1827^STAVUDINE+LAMIVUDINE+EFAVIRENNZ^99DCT\">false</stavudinelamivudineefavirennz>\n            <stavudine openmrs_concept=\"625^STAVUDINE^99DCT\">false</stavudine>\n            <d4t-40 openmrs_concept=\"625^STAVUDINE^99DCT^6^d4T-40^99RX\">false</d4t-40>\n            <d4t-30 openmrs_concept=\"625^STAVUDINE^99DCT^5^d4T-30^99RX\">false</d4t-30>\n            <lopinavir_and_ritonavir openmrs_concept=\"794^LOPINAVIR AND RITONAVIR^99DCT\">false</lopinavir_and_ritonavir>\n            <triomune-30 openmrs_concept=\"792^STAVUDINE + LAMIVUDINE + NEVIRAPINE^99DCT^2^Triomune-30^99RX\">false</triomune-30>\n            <stavudine_lamivudine_nevirapine openmrs_concept=\"792^STAVUDINE + LAMIVUDINE + NEVIRAPINE^99DCT\">false</stavudine_lamivudine_nevirapine>\n            <triomune-40 openmrs_concept=\"792^STAVUDINE + LAMIVUDINE + NEVIRAPINE^99DCT^3^Triomune-40^99RX\">false</triomune-40>\n            <ddi_125 openmrs_concept=\"796^DIDANOSINE^99DCT^9^DDI 125^99RX\">false</ddi_125>\n            <stavudine_lamivudine openmrs_concept=\"1579^STAVUDINE + LAMIVUDINE^99DCT\">false</stavudine_lamivudine>\n            <ddi_200 openmrs_concept=\"796^DIDANOSINE^99DCT^10^DDI 200^99RX\">false</ddi_200>\n            <didanosine openmrs_concept=\"796^DIDANOSINE^99DCT\">false</didanosine>\n            <zidovudinelamivudinelopinavir openmrs_concept=\"6100^ZIDOVUDINE+LAMIVUDINE+LOPINAVIR^99DCT\">false</zidovudinelamivudinelopinavir>\n            <zidovudinelamivudinesaquinavir openmrs_concept=\"6101^ZIDOVUDINE+LAMIVUDINE+SAQUINAVIR^99DCT\">false</zidovudinelamivudinesaquinavir>\n            <stavudinelamivudineabacavir openmrs_concept=\"6102^STAVUDINE+LAMIVUDINE+ABACAVIR^99DCT\">false</stavudinelamivudineabacavir>\n            <stavudinelamivudinelopinavir openmrs_concept=\"6103^STAVUDINE+LAMIVUDINE+LOPINAVIR^99DCT\">false</stavudinelamivudinelopinavir>\n            <abacavirlamivudineefavirenz openmrs_concept=\"6104^ABACAVIR+LAMIVUDINE+EFAVIRENZ^99DCT\">false</abacavirlamivudineefavirenz>\n            <abc3tcnvp openmrs_concept=\"6105^ABC+3TC+NVP^99DCT\">false</abc3tcnvp>\n            <abc3tclpv openmrs_concept=\"6106^ABC+3TC+LPV^99DCT\">false</abc3tclpv>\n            <tdfazt3tclpv openmrs_concept=\"6107^TDF+AZT+3TC+LPV^99DCT\">false</tdfazt3tclpv>\n            <tdf3tclpv openmrs_concept=\"6108^TDF+3TC+LPV^99DCT\">false</tdf3tclpv>\n            <aztddilpv openmrs_concept=\"6109^AZT+DDI+LPV^99DCT\">false</aztddilpv>\n            <d4t_63tcnvp openmrs_concept=\"6110^D4T 6+3TC+NVP^99DCT\">false</d4t_63tcnvp>\n            <d4t_63tcefv openmrs_concept=\"6111^D4T 6+3TC+EFV^99DCT\">false</d4t_63tcefv>\n            <d4t_63tcabc openmrs_concept=\"6112^D4T 6+3TC+ABC^99DCT\">false</d4t_63tcabc>\n            <d4t_63tclpv openmrs_concept=\"6113^D4T 6+3TC+LPV^99DCT\">false</d4t_63tclpv>\n            <azt603tcnvp openmrs_concept=\"6114^AZT60+3TC+NVP^99DCT\">false</azt603tcnvp>\n            <azt603tcefv openmrs_concept=\"6115^AZT60+3TC+EFV^99DCT\">false</azt603tcefv>\n            <azt603tcabc openmrs_concept=\"6116^AZT60+3TC+ABC^99DCT\">false</azt603tcabc>\n            <azt603tclpv openmrs_concept=\"6117^AZT60+3TC+LPV^99DCT\">false</azt603tclpv>\n            <ddi50abclpv openmrs_concept=\"6118^DDI50+ABC+LPV^99DCT\">false</ddi50abclpv>\n            <ddi250ecabclpv openmrs_concept=\"6119^DDI250Ec+ABC+LPV^99DCT\">false</ddi250ecabclpv>\n      </current_antiretroviral_drugs_used_for_treatment>\n      <cotrimoxazole_use multiple=\"0\" openmrs_concept=\"6121^COTRIMOXAZOLE USE^99DCT\" openmrs_datatype=\"CWE\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </cotrimoxazole_use>\n      <cotrimoxazole_use_specifically openmrs_concept=\"1536^COTRIMOXAZOLE USE, SPECIFICALLY^99DCT\" openmrs_datatype=\"ST\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </cotrimoxazole_use_specifically>\n      <vitamin_a multiple=\"0\" openmrs_concept=\"1535^VITAMIN A TREATMENT^99DCT\" openmrs_datatype=\"CWE\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </vitamin_a>\n      <vitamin_a_use_specifically openmrs_concept=\"1537^VITAMIN A USE, SPECIFICALLY^99DCT\" openmrs_datatype=\"ST\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </vitamin_a_use_specifically>\n      <antifungal_use multiple=\"0\" openmrs_concept=\"1538^ANTIFUNGAL USE^99DCT\" openmrs_datatype=\"CWE\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </antifungal_use>\n      <antifungal_use_specifically openmrs_concept=\"1539^ANTIFUNGAL USE, SPECIFICALLY^99DCT\" openmrs_datatype=\"ST\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </antifungal_use_specifically>\n      <treatment_non_specific openmrs_concept=\"1541^TREATMENT, NON SPECIFIC^99DCT\" openmrs_datatype=\"ST\">\n            <date xsi:nil=\"true\"/>\n            <time xsi:nil=\"true\"/>\n            <value xsi:nil=\"true\"/>\n      </treatment_non_specific>\n    </pediatric_initial_treatment>\n  </obs>\n  <problem_list openmrs_concept=\"1284^PROBLEM LIST^99DCT\" openmrs_datatype=\"ZZ\">\n    <problem_added multiple=\"0\" openmrs_concept=\"6042^PROBLEM ADDED^99DCT\" openmrs_datatype=\"CWE\">\n        <date xsi:nil=\"true\"/>\n        <time xsi:nil=\"true\"/>\n        <value xsi:nil=\"true\"/>\n    </problem_added>\n    <problem_resolved multiple=\"0\" openmrs_concept=\"6097^PROBLEM RESOLVED^99DCT\" openmrs_datatype=\"CWE\">\n        <date xsi:nil=\"true\"/>\n        <time xsi:nil=\"true\"/>\n        <value xsi:nil=\"true\"/>\n    </problem_resolved>\n  </problem_list>\n  <other/></form>','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n\r\n<!--\r\nOpenMRS FormEntry Form HL7 Translation\r\n\r\nThis XSLT is used to translate OpenMRS forms from XML into HL7 2.5 format\r\n\r\n@author Burke Mamlin, MD\r\n@author Ben Wolfe\r\n@version 1.9.7\r\n\r\n1.9.7 - moved encounter/encounter.encounter_id to use PV1-19 instead\r\n1.9.6 - added encounter/encounter.encounter_id to PV1-1\r\n1.9.5 - allow for organizing sections under \"obs\" section\r\n1.9.4 - add support for message uid (as HL7 control id) and transform of patient.health_center to Discharge to Location (PV1-37)\r\n1.9.3 - fixed rounding error on timestamp (tenths of seconds getting rounded up, causing \"60\" seconds in some cases) \r\n1.9.2 - first generally useful version\r\n-->\r\n\r\n<xsl:stylesheet version=\"2.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:fn=\"http://www.w3.org/2005/xpath-functions\" xmlns:xdt=\"http://www.w3.org/2005/xpath-datatypes\">\r\n	<xsl:output method=\"text\" version=\"1.0\" encoding=\"UTF-8\" indent=\"no\"/>\r\n\r\n<xsl:variable name=\"SENDING-APPLICATION\">FORMENTRY</xsl:variable>\r\n<xsl:variable name=\"SENDING-FACILITY\">AMRS.ELD</xsl:variable>\r\n<xsl:variable name=\"RECEIVING-APPLICATION\">HL7LISTENER</xsl:variable>\r\n<xsl:variable name=\"RECEIVING-FACILITY\">AMRS.ELD</xsl:variable>\r\n<xsl:variable name=\"PATIENT-AUTHORITY\"></xsl:variable> <!-- leave blank for internal id, max 20 characters -->\r\n                                                       <!-- for now, must match patient_identifier_type.name -->\r\n<xsl:variable name=\"FORM-AUTHORITY\">AMRS.ELD.FORMID</xsl:variable> <!-- max 20 characters -->\r\n\r\n<xsl:template match=\"/\">\r\n	<xsl:apply-templates />\r\n</xsl:template>\r\n\r\n<!-- Form template -->\r\n<xsl:template match=\"form\">\r\n	<!-- MSH Header -->\r\n	<xsl:text>MSH|^~\\&amp;</xsl:text>   <!-- Message header, field separator, and encoding characters -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-3 Sending application -->\r\n	<xsl:value-of select=\"$SENDING-APPLICATION\" />\r\n	<xsl:text>|</xsl:text>              <!-- MSH-4 Sending facility -->\r\n	<xsl:value-of select=\"$SENDING-FACILITY\" />\r\n	<xsl:text>|</xsl:text>              <!-- MSH-5 Receiving application -->\r\n	<xsl:value-of select=\"$RECEIVING-APPLICATION\" />\r\n	<xsl:text>|</xsl:text>              <!-- MSH-6 Receiving facility -->\r\n	<xsl:value-of select=\"$RECEIVING-FACILITY\" />\r\n	<xsl:text>|</xsl:text>              <!-- MSH-7 Date/time message sent -->\r\n	<xsl:call-template name=\"hl7Timestamp\">\r\n		<xsl:with-param name=\"date\" select=\"current-dateTime()\" />\r\n	</xsl:call-template>\r\n	<xsl:text>|</xsl:text>              <!-- MSH-8 Security -->\r\n	<xsl:text>|ORU^R01</xsl:text>       <!-- MSH-9 Message type ^ Event type (observation report unsolicited) -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-10 Message control ID -->\r\n	<xsl:choose>\r\n		<xsl:when test=\"header/uid\">\r\n			<xsl:value-of select=\"header/uid\" />\r\n		</xsl:when>\r\n		<xsl:otherwise>\r\n			<xsl:value-of select=\"patient/patient.patient_id\" />\r\n			<xsl:call-template name=\"hl7Timestamp\">\r\n				<xsl:with-param name=\"date\" select=\"current-dateTime()\" />\r\n			</xsl:call-template>\r\n		</xsl:otherwise>\r\n	</xsl:choose>\r\n	<xsl:text>|P</xsl:text>             <!-- MSH-11 Processing ID -->\r\n	<xsl:text>|2.5</xsl:text>           <!-- MSH-12 HL7 version -->\r\n	<xsl:text>|1</xsl:text>             <!-- MSH-13 Message sequence number -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-14 Continuation Pointer -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-15 Accept Acknowledgement Type -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-16 Application Acknowledgement Type -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-17 Country Code -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-18 Character Set -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-19 Principal Language of Message -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-20 Alternate Character Set Handling Scheme -->\r\n	<xsl:text>|</xsl:text>              <!-- MSH-21 Message Profile Identifier -->\r\n	<xsl:value-of select=\"@id\" />\r\n	<xsl:text>^</xsl:text>\r\n	<xsl:value-of select=\"$FORM-AUTHORITY\" />\r\n	<xsl:text>&#x000d;</xsl:text>\r\n\r\n	<!-- PID header -->\r\n	<xsl:text>PID</xsl:text>            <!-- Message type -->\r\n	<xsl:text>|</xsl:text>              <!-- PID-1 Set ID -->\r\n	<xsl:text>|</xsl:text>              <!-- PID-2 (deprecated) Patient ID -->\r\n	<xsl:text>|</xsl:text>              <!-- PID-3 Patient Identifier List -->\r\n	<xsl:call-template name=\"patient_id\">\r\n		<xsl:with-param name=\"pid\" select=\"patient/patient.patient_id\" />\r\n		<xsl:with-param name=\"auth\" select=\"$PATIENT-AUTHORITY\" />\r\n		<xsl:with-param name=\"type\" select=\"L\" />\r\n	</xsl:call-template>\r\n	<xsl:if test=\"patient/patient.previous_mrn and string-length(patient/patient.previous_mrn) > 0\">\r\n		<xsl:text>~</xsl:text>\r\n		<xsl:call-template name=\"patient_id\">\r\n			<xsl:with-param name=\"pid\" select=\"patient/patient.previous_mrn\" />\r\n			<xsl:with-param name=\"auth\" select=\"$PATIENT-AUTHORITY\" />\r\n			<xsl:with-param name=\"type\" select=\"PRIOR\" />\r\n		</xsl:call-template>\r\n	</xsl:if>\r\n	<!-- Additional patient identifiers -->\r\n	<!-- This example is for an MTCT-PLUS identifier used in the AMPATH project in Kenya (skipped if not present) -->\r\n	<xsl:if test=\"patient/patient.mtctplus_id and string-length(patient/patient.mtctplus_id) > 0\">\r\n		<xsl:text>~</xsl:text>\r\n		<xsl:call-template name=\"patient_id\">\r\n			<xsl:with-param name=\"pid\" select=\"patient/patient.mtctplus_id\" />\r\n			<xsl:with-param name=\"auth\" select=\"$PATIENT-AUTHORITY\" />\r\n			<xsl:with-param name=\"type\" select=\"MTCTPLUS\" />\r\n		</xsl:call-template>\r\n	</xsl:if>\r\n	<xsl:text>|</xsl:text>              <!-- PID-4 (deprecated) Alternate patient ID -->\r\n	<!-- PID-5 Patient name -->\r\n	<xsl:text>|</xsl:text>              <!-- Family name -->\r\n	<xsl:value-of select=\"patient/patient.family_name\" />\r\n	<xsl:text>^</xsl:text>              <!-- Given name -->\r\n	<xsl:value-of select=\"patient/patient.given_name\" />\r\n	<xsl:text>^</xsl:text>              <!-- Middle name -->\r\n	<xsl:value-of select=\"patient/patient.middle_name\" />\r\n	<xsl:text>|</xsl:text>              <!-- PID-6 Mother\'s maiden name -->\r\n	<xsl:text>|</xsl:text>              <!-- PID-7 Date/Time of Birth -->\r\n	<xsl:value-of select=\"patient/patient.date_of_birth\" />\r\n	<xsl:text>&#x000d;</xsl:text>       <!-- new line -->\r\n	\r\n	<!-- PV1 header -->\r\n	<xsl:text>PV1</xsl:text>            <!-- Message type -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-1 Sub ID -->\r\n	<xsl:text>|O</xsl:text>             <!-- PV1-2 Patient class (O = outpatient) -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-3 Patient location -->\r\n	<xsl:value-of select=\"encounter/encounter.location_id\" />\r\n	<xsl:text>|</xsl:text>              <!-- PV1-4 Admission type (2 = return) -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-5 Pre-Admin Number -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-6 Prior Patient Location -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-7 Attending Doctor -->\r\n	<xsl:value-of select=\"encounter/encounter.provider_id\" />\r\n	<xsl:text>|</xsl:text>              <!-- PV1-8 Referring Doctor -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-9 Consulting Doctor -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-10 Hospital Service -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-11 Temporary Location -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-12 Preadmin Test Indicator -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-13 Re-adminssion Indicator -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-14 Admit Source -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-15 Ambulatory Status -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-16 VIP Indicator -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-17 Admitting Doctor -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-18 Patient Type -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-19 Visit Number -->\r\n	<xsl:value-of select=\"encounter/encounter.encounter_id\" />\r\n	<xsl:text>|</xsl:text>              <!-- PV1-20 Financial Class -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-21 Charge Price Indicator -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-22 Courtesy Code -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-23 Credit Rating -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-24 Contract Code -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-25 Contract Effective Date -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-26 Contract Amount -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-27 Contract Period -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-28 Interest Code -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-29 Transfer to Bad Debt Code -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-30 Transfer to Bad Debt Date -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-31 Bad Debt Agency Code -->\r\n  <xsl:text>|</xsl:text>              <!-- PV1-31 Bad Debt Transfer Amount -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-33 Bad Debt Recovery Amount -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-34 Delete Account Indicator -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-35 Delete Account Date -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-36 Discharge Disposition -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-37 Discharge To Location -->\r\n	<xsl:if test=\"patient/patient.health_center\">\r\n		<xsl:value-of select=\"replace(patient/patient.health_center,\'\\^\',\'&amp;\')\" />\r\n	</xsl:if>\r\n	<xsl:text>|</xsl:text>              <!-- PV1-38 Diet Type -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-39 Servicing Facility -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-40 Bed Status -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-41 Account Status -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-42 Pending Location -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-43 Prior Temporary Location -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-44 Admit Date/Time -->\r\n	<xsl:call-template name=\"hl7Date\">\r\n		<xsl:with-param name=\"date\" select=\"encounter/encounter.encounter_datetime\" />\r\n	</xsl:call-template>\r\n	<xsl:text>|</xsl:text>              <!-- PV1-45 Discharge Date/Time -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-46 Current Patient Balance -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-47 Total Charges -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-48 Total Adjustments -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-49 Total Payments -->\r\n	<xsl:text>|</xsl:text>              <!-- PV1-50 Alternate Visit ID -->\r\n	<xsl:text>|V</xsl:text>             <!-- PV1-51 Visit Indicator -->\r\n	<xsl:text>&#x000d;</xsl:text>       <!-- new line -->\r\n\r\n	<!-- We use encounter date as the timestamp for each observation -->\r\n	<xsl:variable name=\"encounterTimestamp\">\r\n		<xsl:call-template name=\"hl7Date\">\r\n			<xsl:with-param name=\"date\" select=\"encounter/encounter.encounter_datetime\" />\r\n		</xsl:call-template>\r\n	</xsl:variable>\r\n	\r\n	<!-- ORC Common Order Segment -->\r\n	<xsl:text>ORC</xsl:text>            <!-- Message type -->\r\n	<xsl:text>|RE</xsl:text>            <!-- ORC-1 Order Control (RE = obs to follow) -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-2 Placer Order Number -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-3 Filler Order Number -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-4 Placer Group Number -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-5 Order Status -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-6 Response Flag -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-7 Quantity/Timing -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-8 Parent -->\r\n	<xsl:text>|</xsl:text>              <!-- ORC-9 Date/Time of Transaction -->\r\n	<xsl:call-template name=\"hl7Timestamp\">\r\n		<xsl:with-param name=\"date\" select=\"xs:dateTime(header/date_entered)\" />\r\n	</xsl:call-template>\r\n	<xsl:text>|</xsl:text>              <!-- ORC-10 Entered By -->\r\n	<xsl:value-of select=\"header/enterer\" />\r\n	<xsl:text>&#x000d;</xsl:text>       <!-- new line -->\r\n\r\n	<!-- Observation(s) -->\r\n	<!-- <xsl:variable name=\"obsList\" select=\"obs/*[(@openmrs_concept and value and value/text() != \'\') or *[@openmrs_concept and text()=\'true\']]\" /> -->\r\n	<xsl:variable name=\"obsList\" select=\"obs/*[(@openmrs_concept and value and value/text() != \'\') or *[@openmrs_concept and text()=\'true\']]|obs/*[not(@openmrs_concept)]/*[(@openmrs_concept and value and value/text() != \'\') or *[@openmrs_concept and text()=\'true\']]\" />\r\n	<xsl:variable name=\"obsListCount\" select=\"count($obsList)\" as=\"xs:integer\" />\r\n	<!-- Observation OBR -->\r\n	<xsl:text>OBR</xsl:text>            <!-- Message type -->\r\n	<xsl:text>|</xsl:text>              <!-- OBR-1 Set ID -->\r\n	<xsl:text>1</xsl:text>\r\n	<xsl:text>|</xsl:text>              <!-- OBR-2 Placer order number -->\r\n	<xsl:text>|</xsl:text>              <!-- OBR-3 Filler order number -->\r\n	<xsl:text>|</xsl:text>              <!-- OBR-4 OBR concept -->\r\n	<xsl:value-of select=\"obs/@openmrs_concept\" />\r\n	<xsl:text>&#x000d;</xsl:text>       <!-- new line -->\r\n\r\n	<!-- observation OBXs -->\r\n	<xsl:for-each select=\"$obsList\">\r\n		<xsl:choose>\r\n			<xsl:when test=\"value\">\r\n				<xsl:call-template name=\"obsObx\">\r\n					<xsl:with-param name=\"setId\" select=\"position()\" />\r\n					<xsl:with-param name=\"datatype\" select=\"@openmrs_datatype\" />\r\n					<xsl:with-param name=\"units\" select=\"@openmrs_units\" />\r\n					<xsl:with-param name=\"concept\" select=\"@openmrs_concept\" />\r\n					<xsl:with-param name=\"date\" select=\"date/text()\" />\r\n					<xsl:with-param name=\"time\" select=\"time/text()\" />\r\n					<xsl:with-param name=\"value\" select=\"value\" />\r\n					<xsl:with-param name=\"encounterTimestamp\" select=\"$encounterTimestamp\" />\r\n				</xsl:call-template>\r\n			</xsl:when>\r\n			<xsl:otherwise>\r\n				<xsl:variable name=\"setId\" select=\"position()\" />\r\n				<xsl:for-each select=\"*[@openmrs_concept and text() = \'true\']\">\r\n					<xsl:call-template name=\"obsObx\">\r\n						<xsl:with-param name=\"setId\" select=\"$setId\" />\r\n						<xsl:with-param name=\"subId\" select=\"concat($setId,position())\" />\r\n						<xsl:with-param name=\"datatype\" select=\"../@openmrs_datatype\" />\r\n						<xsl:with-param name=\"units\" select=\"../@openmrs_units\" />\r\n						<xsl:with-param name=\"concept\" select=\"../@openmrs_concept\" />\r\n						<xsl:with-param name=\"date\" select=\"../date/text()\" />\r\n						<xsl:with-param name=\"time\" select=\"../time/text()\" />\r\n						<xsl:with-param name=\"value\" select=\"@openmrs_concept\" />\r\n						<xsl:with-param name=\"encounterTimestamp\" select=\"$encounterTimestamp\" />\r\n					</xsl:call-template>\r\n				</xsl:for-each>\r\n			</xsl:otherwise>\r\n		</xsl:choose>\r\n	</xsl:for-each>\r\n	\r\n	<!-- Grouped observation(s) -->\r\n	<!-- <xsl:variable name=\"obsGroupList\" select=\"obs/*[@openmrs_concept and not(date) and *[(@openmrs_concept and value and value/text() != \'\') or *[@openmrs_concept and text()=\'true\']]]\" /> -->\r\n	<xsl:variable name=\"obsGroupList\" select=\"obs/*[@openmrs_concept and not(date) and *[(@openmrs_concept and value and value/text() != \'\') or *[@openmrs_concept and text()=\'true\']]]|obs/*[not(@openmrs_concept)]/*[@openmrs_concept and not(date) and *[(@openmrs_concept and value and value/text() != \'\') or *[@openmrs_concept and text()=\'true\']]]\" />\r\n	<xsl:variable name=\"obsGroupListCount\" select=\"count($obsGroupList)\" as=\"xs:integer\" />\r\n	<xsl:for-each select=\"$obsGroupList\">\r\n		<!-- Observation OBR -->\r\n		<xsl:text>OBR</xsl:text>            <!-- Message type -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-1 Set ID -->\r\n		<xsl:value-of select=\"$obsListCount + position()\" />\r\n		<xsl:text>|</xsl:text>              <!-- OBR-2 Placer order number -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-3 Filler order number -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-4 OBR concept -->\r\n		<xsl:value-of select=\"@openmrs_concept\" />\r\n		<xsl:text>&#x000d;</xsl:text>       <!-- new line -->\r\n		\r\n		<!-- Generate OBXs -->\r\n		<xsl:for-each select=\"*[(@openmrs_concept and value and value/text() != \'\') or *[@openmrs_concept and text()=\'true\']]\">\r\n			<xsl:choose>\r\n				<xsl:when test=\"value\">\r\n					<xsl:call-template name=\"obsObx\">\r\n						<xsl:with-param name=\"setId\" select=\"position()\" />\r\n						<xsl:with-param name=\"subId\" select=\"1\" />\r\n						<xsl:with-param name=\"datatype\" select=\"@openmrs_datatype\" />\r\n						<xsl:with-param name=\"units\" select=\"@openmrs_units\" />\r\n						<xsl:with-param name=\"concept\" select=\"@openmrs_concept\" />\r\n						<xsl:with-param name=\"date\" select=\"date/text()\" />\r\n						<xsl:with-param name=\"time\" select=\"time/text()\" />\r\n						<xsl:with-param name=\"value\" select=\"value\" />\r\n						<xsl:with-param name=\"encounterTimestamp\" select=\"$encounterTimestamp\" />\r\n					</xsl:call-template>\r\n				</xsl:when>\r\n				<xsl:otherwise>\r\n					<xsl:variable name=\"setId\" select=\"position()\" />\r\n					<xsl:for-each select=\"*[@openmrs_concept and text() = \'true\']\">\r\n						<xsl:call-template name=\"obsObx\">\r\n							<xsl:with-param name=\"setId\" select=\"$setId\" />\r\n							<xsl:with-param name=\"subId\" select=\"concat(\'1.\',position())\" />\r\n							<xsl:with-param name=\"datatype\" select=\"../@openmrs_datatype\" />\r\n							<xsl:with-param name=\"units\" select=\"../@openmrs_units\" />\r\n							<xsl:with-param name=\"concept\" select=\"../@openmrs_concept\" />\r\n							<xsl:with-param name=\"date\" select=\"../date/text()\" />\r\n							<xsl:with-param name=\"time\" select=\"../time/text()\" />\r\n							<xsl:with-param name=\"value\" select=\"@openmrs_concept\" />\r\n							<xsl:with-param name=\"encounterTimestamp\" select=\"$encounterTimestamp\" />\r\n						</xsl:call-template>\r\n					</xsl:for-each>\r\n				</xsl:otherwise>\r\n			</xsl:choose>\r\n		</xsl:for-each>\r\n	</xsl:for-each>\r\n\r\n	<!-- Problem list(s) -->\r\n	<xsl:variable name=\"problemList\" select=\"problem_list/*[value[text() != \'\']]\" />\r\n	<xsl:variable name=\"problemListCount\" select=\"count($problemList)\" as=\"xs:integer\" />\r\n	<xsl:if test=\"$problemList\">\r\n		<!-- Problem list OBR -->\r\n		<xsl:text>OBR</xsl:text>            <!-- Message type -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-1 Set ID -->\r\n		<xsl:value-of select=\"$obsListCount + $obsGroupListCount + 1\" />\r\n		<xsl:text>|</xsl:text>              <!-- OBR-2 Placer order number -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-3 Filler order number -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-4 OBR concept -->\r\n		<xsl:value-of select=\"problem_list/@openmrs_concept\" />\r\n		<xsl:text>&#x000d;</xsl:text>       <!-- new line -->\r\n\r\n		<!-- Problem list OBXs -->\r\n		<xsl:for-each select=\"$problemList\">\r\n			<xsl:call-template name=\"obsObx\">\r\n				<xsl:with-param name=\"setId\" select=\"position()\" />\r\n				<xsl:with-param name=\"datatype\" select=\"\'CWE\'\" />\r\n				<xsl:with-param name=\"concept\" select=\"@openmrs_concept\" />\r\n				<xsl:with-param name=\"date\" select=\"date/text()\" />\r\n				<xsl:with-param name=\"time\" select=\"time/text()\" />\r\n				<xsl:with-param name=\"value\" select=\"value\" />\r\n				<xsl:with-param name=\"encounterTimestamp\" select=\"$encounterTimestamp\" />\r\n			</xsl:call-template>		\r\n		</xsl:for-each>\r\n	</xsl:if>\r\n	\r\n	<!-- Orders -->\r\n	<xsl:variable name=\"orderList\" select=\"orders/*[*[@openmrs_concept and ((value and value/text() != \'\') or *[@openmrs_concept and text() = \'true\'])]]\" />\r\n	<xsl:variable name=\"orderListCount\" select=\"count($orderList)\" as=\"xs:integer\" />\r\n	<xsl:for-each select=\"$orderList\">\r\n		<!-- Order section OBR -->\r\n		<xsl:text>OBR</xsl:text>            <!-- Message type -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-1 Set ID -->\r\n		<xsl:value-of select=\"$obsListCount + $obsGroupListCount + $problemListCount + 1\" />\r\n		<xsl:text>|</xsl:text>              <!-- OBR-2 Placer order number -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-3 Filler order number -->\r\n		<xsl:text>|</xsl:text>              <!-- OBR-4 OBR concept -->\r\n		<xsl:value-of select=\"@openmrs_concept\" />\r\n		<xsl:text>&#x000d;</xsl:text>       <!-- new line -->\r\n	\r\n		<!-- Order OBXs -->\r\n		<xsl:for-each select=\"*[@openmrs_concept and ((value and value/text() != \'\') or *[@openmrs_concept and text() = \'true\'])]\">\r\n			<xsl:choose>\r\n				<xsl:when test=\"value\">\r\n					<xsl:call-template name=\"obsObx\">\r\n						<xsl:with-param name=\"setId\" select=\"position()\" />\r\n						<xsl:with-param name=\"datatype\" select=\"@openmrs_datatype\" />\r\n						<xsl:with-param name=\"units\" select=\"@openmrs_units\" />\r\n						<xsl:with-param name=\"concept\" select=\"@openmrs_concept\" />\r\n						<xsl:with-param name=\"date\" select=\"date/text()\" />\r\n						<xsl:with-param name=\"time\" select=\"time/text()\" />\r\n						<xsl:with-param name=\"value\" select=\"value\" />\r\n						<xsl:with-param name=\"encounterTimestamp\" select=\"$encounterTimestamp\" />\r\n					</xsl:call-template>\r\n				</xsl:when>\r\n				<xsl:otherwise>\r\n					<xsl:variable name=\"setId\" select=\"position()\" />\r\n					<xsl:for-each select=\"*[@openmrs_concept and text() = \'true\']\">\r\n						<xsl:call-template name=\"obsObx\">\r\n							<xsl:with-param name=\"setId\" select=\"$setId\" />\r\n							<xsl:with-param name=\"subId\" select=\"position()\" />\r\n							<xsl:with-param name=\"datatype\" select=\"../@openmrs_datatype\" />\r\n							<xsl:with-param name=\"units\" select=\"../@openmrs_units\" />\r\n							<xsl:with-param name=\"concept\" select=\"../@openmrs_concept\" />\r\n							<xsl:with-param name=\"date\" select=\"../date/text()\" />\r\n							<xsl:with-param name=\"time\" select=\"../time/text()\" />\r\n							<xsl:with-param name=\"value\" select=\"@openmrs_concept\" />\r\n							<xsl:with-param name=\"encounterTimestamp\" select=\"$encounterTimestamp\" />\r\n						</xsl:call-template>\r\n					</xsl:for-each>\r\n				</xsl:otherwise>\r\n			</xsl:choose>\r\n		</xsl:for-each>	\r\n	</xsl:for-each>\r\n	\r\n</xsl:template>\r\n\r\n<!-- Patient Identifier (CX) generator -->\r\n<xsl:template name=\"patient_id\">\r\n	<xsl:param name=\"pid\" />\r\n	<xsl:param name=\"auth\" />\r\n	<xsl:param name=\"type\" />\r\n	<xsl:value-of select=\"$pid\" />\r\n	<xsl:text>^</xsl:text>              <!-- Check digit -->\r\n	<xsl:text>^</xsl:text>              <!-- Check Digit Scheme -->\r\n	<xsl:text>^</xsl:text>              <!-- Assigning Authority -->\r\n	<xsl:value-of select=\"$auth\" />\r\n	<xsl:text>^</xsl:text>              <!-- Identifier Type -->\r\n	<xsl:value-of select=\"$type\" />\r\n</xsl:template>\r\n\r\n<!-- OBX Generator -->\r\n<xsl:template name=\"obsObx\">\r\n	<xsl:param name=\"setId\" required=\"no\"></xsl:param>\r\n	<xsl:param name=\"subId\" required=\"no\"></xsl:param>\r\n	<xsl:param name=\"datatype\" required=\"yes\" />\r\n	<xsl:param name=\"concept\" required=\"yes\" />\r\n	<xsl:param name=\"date\" required=\"no\"></xsl:param>\r\n	<xsl:param name=\"time\" required=\"no\"></xsl:param>\r\n	<xsl:param name=\"value\" required=\"no\"></xsl:param>\r\n	<xsl:param name=\"units\" required=\"no\"></xsl:param>\r\n	<xsl:param name=\"encounterTimestamp\" required=\"yes\" />\r\n	<xsl:text>OBX</xsl:text>                     <!-- Message type -->\r\n	<xsl:text>|</xsl:text>                       <!-- Set ID -->\r\n	<xsl:value-of select=\"$setId\" />\r\n	<xsl:text>|</xsl:text>                       <!-- Observation datatype -->\r\n	<xsl:choose>\r\n		<xsl:when test=\"$datatype = \'BIT\'\">\r\n			<xsl:text>NM</xsl:text>\r\n		</xsl:when>\r\n		<xsl:otherwise>\r\n			<xsl:value-of select=\"$datatype\" />\r\n		</xsl:otherwise>\r\n	</xsl:choose>\r\n	<xsl:text>|</xsl:text>                       <!-- Concept (what was observed -->\r\n	<xsl:value-of select=\"$concept\" />\r\n	<xsl:text>|</xsl:text>                       <!-- Sub-ID -->\r\n	<xsl:value-of select=\"$subId\" />\r\n	<xsl:text>|</xsl:text>                       <!-- Value -->\r\n	<xsl:choose>\r\n		<xsl:when test=\"$datatype = \'TS\'\">\r\n			<xsl:call-template name=\"hl7Timestamp\">\r\n				<xsl:with-param name=\"date\" select=\"$value\" />\r\n			</xsl:call-template>\r\n		</xsl:when>\r\n		<xsl:when test=\"$datatype = \'DT\'\">\r\n			<xsl:call-template name=\"hl7Date\">\r\n				<xsl:with-param name=\"date\" select=\"$value\" />\r\n			</xsl:call-template>\r\n		</xsl:when>\r\n		<xsl:when test=\"$datatype = \'TM\'\">\r\n			<xsl:call-template name=\"hl7Time\">\r\n				<xsl:with-param name=\"time\" select=\"$value\" />\r\n			</xsl:call-template>\r\n		</xsl:when>\r\n		<xsl:when test=\"$datatype = \'BIT\'\">\r\n			<xsl:choose>\r\n				<xsl:when test=\"$value = \'0\' or upper-case($value) = \'FALSE\'\">0</xsl:when>\r\n				<xsl:otherwise>1</xsl:otherwise>\r\n			</xsl:choose>\r\n		</xsl:when>\r\n		<xsl:otherwise>\r\n			<xsl:value-of select=\"$value\" />\r\n		</xsl:otherwise>\r\n	</xsl:choose>\r\n	<xsl:text>|</xsl:text>                       <!-- Units -->\r\n	<xsl:value-of select=\"$units\" />\r\n	<xsl:text>|</xsl:text>                       <!-- Reference range -->\r\n	<xsl:text>|</xsl:text>                       <!-- Abnormal flags -->\r\n	<xsl:text>|</xsl:text>                       <!-- Probability -->\r\n	<xsl:text>|</xsl:text>                       <!-- Nature of abnormal test -->\r\n	<xsl:text>|</xsl:text>                       <!-- Observation result status -->\r\n	<xsl:text>|</xsl:text>                       <!-- Effective date -->\r\n	<xsl:text>|</xsl:text>                       <!-- User defined access checks -->\r\n	<xsl:text>|</xsl:text>                       <!-- Date time of observation -->\r\n	<xsl:choose>\r\n		<xsl:when test=\"$date and $time\">\r\n			<xsl:call-template name=\"hl7Timestamp\">\r\n				<xsl:with-param name=\"date\" select=\"dateTime($date,$time)\" />\r\n			</xsl:call-template>\r\n		</xsl:when>\r\n		<xsl:when test=\"$date\">\r\n			<xsl:call-template name=\"hl7Date\">\r\n				<xsl:with-param name=\"date\" select=\"$date\" />\r\n			</xsl:call-template>\r\n		</xsl:when>\r\n		<xsl:otherwise>\r\n			<xsl:value-of select=\"$encounterTimestamp\" />\r\n		</xsl:otherwise>\r\n	</xsl:choose>\r\n	<xsl:text>&#x000d;</xsl:text>\r\n</xsl:template>\r\n\r\n<!-- Generate HL7-formatted timestamp -->\r\n<xsl:template name=\"hl7Timestamp\">\r\n	<xsl:param name=\"date\" />\r\n	<xsl:if test=\"string($date) != \'\'\">\r\n		<xsl:value-of select=\"concat(year-from-dateTime($date),format-number(month-from-dateTime($date),\'00\'),format-number(day-from-dateTime($date),\'00\'),format-number(hours-from-dateTime($date),\'00\'),format-number(minutes-from-dateTime($date),\'00\'),format-number(floor(seconds-from-dateTime($date)),\'00\'))\" />\r\n	</xsl:if>\r\n</xsl:template>\r\n\r\n<!-- Generate HL7-formatted date -->\r\n<xsl:template name=\"hl7Date\">\r\n	<xsl:param name=\"date\" />\r\n	<xsl:if test=\"string($date) != \'\'\">\r\n		<xsl:choose>\r\n			<xsl:when test=\"contains(string($date),\'T\')\">\r\n				<xsl:call-template name=\"hl7Date\">\r\n					<xsl:with-param name=\"date\" select=\"xs:date(substring-before($date,\'T\'))\" />\r\n				</xsl:call-template>\r\n			</xsl:when>\r\n			<xsl:otherwise>\r\n					<xsl:value-of select=\"concat(year-from-date($date),format-number(month-from-date($date),\'00\'),format-number(day-from-date($date),\'00\'))\" />\r\n			</xsl:otherwise>\r\n		</xsl:choose>				\r\n	</xsl:if>\r\n</xsl:template>\r\n\r\n<!-- Generate HL7-formatted time -->\r\n<xsl:template name=\"hl7Time\">\r\n	<xsl:param name=\"time\" />\r\n	<xsl:if test=\"$time != \'\'\">\r\n		<xsl:value-of select=\"concat(format-number(hours-from-time($time),\'00\'),format-number(minutes-from-time($time),\'00\'),format-number(floor(seconds-from-time($time)),\'00\'))\" />\r\n	</xsl:if>\r\n</xsl:template>\r\n\r\n</xsl:stylesheet>',1,'2006-07-18 11:02:38',13,'2011-01-27 11:59:39',0,NULL,NULL,NULL,'e28a6ace-1d5f-11e0-b929-000c29ad1d07');
/*!40000 ALTER TABLE `form` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2019-08-30 15:49:29
